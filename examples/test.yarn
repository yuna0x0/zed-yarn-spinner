title: Example Node
author: Test Author
tags: example, dialogue
---

// This is a comment
Player: Hello there! How are you today?

NPC: I'm doing well, thank you for asking! {$player_name}

// Conditional dialogue based on player stats
<<if $player_level >= 5>>
    NPC: I see you're quite experienced. Would you like a special quest?

    [[Yes, I'd love a challenge!|AcceptQuest]]
    [[No thanks, maybe later.|DeclineQuest]]

<<else>>
    NPC: You look like you're just starting out. Here's some advice:

    -> Train more before taking on difficult quests
    -> Visit the shop to buy better equipment
    -> Talk to other NPCs for more information
<<endif>>

// Variable assignment
<<set $talked_to_npc = true>>
<<set $conversation_count = $conversation_count + 1>>

// Format function example
[wave]Hello there![/wave] This text has formatting.

// Hashtag for metadata
This line has a hashtag #important

// Jump to another node
<<jump AnotherNode>>

===

title: AcceptQuest
---

NPC: Excellent! Here's what I need you to do...

// Enum example for quest types
<<enum QuestType>>
    case Kill
    case Collect
    case Deliver
<<endenum>>

<<set $current_quest = QuestType.Collect>>

// Once block - only shows first time
<<once>>
    NPC: This is the first time you've accepted a quest from me.
    <<set $first_quest_accepted = true>>
<<endonce>>

Player: I understand. I'll get right on it!

<<jump QuestInProgress>>

===

title: DeclineQuest
---

NPC: No problem at all. Come back when you're ready!

<<if $conversation_count > 3>>
    NPC: You've been here quite a few times. Are you sure you don't want to try?

    [[Actually, yes I do want to try|AcceptQuest]]
    [[No, I'm really not ready|EndConversation]]
<<endif>>

<<jump EndConversation>>

===

title: EndConversation
---

NPC: Take care, and good luck on your adventures!

// Return from detour or end
<<return>>

===

title: AnotherNode
---

// Another example node with complex expressions
Player: {$player_name}, level {$player_level}

<<if $player_class == "warrior" and $player_level > 10>>
    NPC: A mighty warrior! I have just the thing for you.
<<elseif $player_class == "mage" and $player_strength < 5>>
    NPC: A scholar of magic, I see. Intelligence over brawn.
<<else>>
    NPC: An interesting combination of skills you have.
<<endif>>

// Complex format function with parameters
[color red]Warning:[/color] This quest is [emphasis]very dangerous[/emphasis]!

// Shortcut option with condition
-> Continue the conversation <<if $player_courage > 7>>

===
